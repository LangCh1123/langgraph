interactions:
- request:
    body: '{"post":[{"id":"f0ff6d0e-d4f9-42b4-9c09-cc64fb92163d","start_time":"2024-09-19T17:54:32.506029+00:00","end_time":"2024-09-19T17:54:32.515068+00:00","extra":{"runtime":{"sdk":"langsmith-py","sdk_version":"0.1.123","library":"langsmith","platform":"macOS-14.5-arm64-arm-64bit","runtime":"python","py_implementation":"CPython","runtime_version":"3.12.4","langchain_version":"0.3.0","langchain_core_version":"0.3.1"},"metadata":{"revision_id":"checkpoint==1.0.10-68-g22fa527b-dirty"}},"error":"KeyError(\"Input
      to ChatPromptTemplate is missing variables {''{messages}''}.  Expected: [''{messages}'']
      Received: [''messages'', ''is_last_step'']\\nNote: if you intended {{messages}}
      to be part of the string and not a variable, please escape it with double curly
      braces like: ''{{{messages}}}''.\")Traceback (most recent call last):\n\n\n  File
      \"/Users/isaachershenson/Documents/langgraph/libs/langgraph/langgraph/pregel/__init__.py\",
      line 1272, in stream\n    for _ in runner.tick(\n\n\n  File \"/Users/isaachershenson/Documents/langgraph/libs/langgraph/langgraph/pregel/runner.py\",
      line 50, in tick\n    run_with_retry(task, retry_policy)\n\n\n  File \"/Users/isaachershenson/Documents/langgraph/libs/langgraph/langgraph/pregel/retry.py\",
      line 29, in run_with_retry\n    task.proc.invoke(task.input, config)\n\n\n  File
      \"/Users/isaachershenson/Documents/langgraph/libs/langgraph/langgraph/utils/runnable.py\",
      line 343, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/base.py\",
      line 4680, in invoke\n    return self._call_with_config(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/base.py\",
      line 1916, in _call_with_config\n    context.run(\n\n\n  File \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/config.py\",
      line 398, in call_func_with_variable_args\n    return func(input, **kwargs)  #
      type: ignore[call-arg]\n           ^^^^^^^^^^^^^^^^^^^^^\n\n\n  File \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/base.py\",
      line 4536, in _invoke\n    output = call_func_with_variable_args(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/config.py\",
      line 398, in call_func_with_variable_args\n    return func(input, **kwargs)  #
      type: ignore[call-arg]\n           ^^^^^^^^^^^^^^^^^^^^^\n\n\n  File \"/Users/isaachershenson/Documents/langgraph/libs/langgraph/langgraph/prebuilt/chat_agent_executor.py\",
      line 450, in call_model\n    response = model_runnable.invoke(state, config)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/base.py\",
      line 3011, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/prompts/base.py\",
      line 193, in invoke\n    return self._call_with_config(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/base.py\",
      line 1916, in _call_with_config\n    context.run(\n\n\n  File \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/config.py\",
      line 398, in call_func_with_variable_args\n    return func(input, **kwargs)  #
      type: ignore[call-arg]\n           ^^^^^^^^^^^^^^^^^^^^^\n\n\n  File \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/prompts/base.py\",
      line 167, in _format_prompt_with_error_handling\n    _inner_input = self._validate_input(inner_input)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/prompts/base.py\",
      line 163, in _validate_input\n    raise KeyError(msg)\n\n\nKeyError: \"Input
      to ChatPromptTemplate is missing variables {''{messages}''}.  Expected: [''{messages}'']
      Received: [''messages'', ''is_last_step'']\\nNote: if you intended {{messages}}
      to be part of the string and not a variable, please escape it with double curly
      braces like: ''{{{messages}}}''.\"","events":[{"name":"start","time":"2024-09-19T17:54:32.506029+00:00"},{"name":"error","time":"2024-09-19T17:54:32.515068+00:00"}],"reference_example_id":null,"parent_run_id":null,"tags":[],"trace_id":"f0ff6d0e-d4f9-42b4-9c09-cc64fb92163d","dotted_order":"20240919T175432506029Zf0ff6d0e-d4f9-42b4-9c09-cc64fb92163d","outputs":null,"session_name":"default","name":"LangGraph","inputs":{"messages":[["user","who
      is the winnner of the us open"]]},"run_type":"chain"},{"id":"21aa8b0f-47e9-4c7c-b04f-693cac0b0f6a","start_time":"2024-09-19T17:54:32.506481+00:00","end_time":"2024-09-19T17:54:32.506835+00:00","extra":{"metadata":{"langgraph_step":0,"langgraph_node":"__start__","langgraph_triggers":["__start__"],"langgraph_path":["__pregel_pull","__start__"],"langgraph_checkpoint_ns":"__start__:f91f136f-29a1-0b9b-dde2-7c0315081f86","revision_id":"checkpoint==1.0.10-68-g22fa527b-dirty"},"runtime":{"sdk":"langsmith-py","sdk_version":"0.1.123","library":"langsmith","platform":"macOS-14.5-arm64-arm-64bit","runtime":"python","py_implementation":"CPython","runtime_version":"3.12.4","langchain_version":"0.3.0","langchain_core_version":"0.3.1"}},"error":null,"events":[{"name":"start","time":"2024-09-19T17:54:32.506481+00:00"},{"name":"end","time":"2024-09-19T17:54:32.506835+00:00"}],"reference_example_id":null,"parent_run_id":"f0ff6d0e-d4f9-42b4-9c09-cc64fb92163d","tags":["graph:step:0","langsmith:hidden"],"trace_id":"f0ff6d0e-d4f9-42b4-9c09-cc64fb92163d","dotted_order":"20240919T175432506029Zf0ff6d0e-d4f9-42b4-9c09-cc64fb92163d.20240919T175432506481Z21aa8b0f-47e9-4c7c-b04f-693cac0b0f6a","outputs":{"messages":[["user","who
      is the winnner of the us open"]]},"session_name":"default","name":"__start__","inputs":{"messages":[["user","who
      is the winnner of the us open"]]},"run_type":"chain"},{"id":"1816cfd6-2dd5-42a3-a41c-e98b6dc4848a","start_time":"2024-09-19T17:54:32.507110+00:00","end_time":"2024-09-19T17:54:32.513932+00:00","extra":{"metadata":{"langgraph_step":1,"langgraph_node":"agent","langgraph_triggers":["start:agent"],"langgraph_path":["__pregel_pull","agent"],"langgraph_checkpoint_ns":"agent:9711e288-c6f8-a748-00d0-0661ea2ad627","revision_id":"checkpoint==1.0.10-68-g22fa527b-dirty"},"runtime":{"sdk":"langsmith-py","sdk_version":"0.1.123","library":"langsmith","platform":"macOS-14.5-arm64-arm-64bit","runtime":"python","py_implementation":"CPython","runtime_version":"3.12.4","langchain_version":"0.3.0","langchain_core_version":"0.3.1"}},"error":"KeyError(\"Input
      to ChatPromptTemplate is missing variables {''{messages}''}.  Expected: [''{messages}'']
      Received: [''messages'', ''is_last_step'']\\nNote: if you intended {{messages}}
      to be part of the string and not a variable, please escape it with double curly
      braces like: ''{{{messages}}}''.\")Traceback (most recent call last):\n\n\n  File
      \"/Users/isaachershenson/Documents/langgraph/libs/langgraph/langgraph/utils/runnable.py\",
      line 343, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/base.py\",
      line 4680, in invoke\n    return self._call_with_config(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/base.py\",
      line 1916, in _call_with_config\n    context.run(\n\n\n  File \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/config.py\",
      line 398, in call_func_with_variable_args\n    return func(input, **kwargs)  #
      type: ignore[call-arg]\n           ^^^^^^^^^^^^^^^^^^^^^\n\n\n  File \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/base.py\",
      line 4536, in _invoke\n    output = call_func_with_variable_args(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/config.py\",
      line 398, in call_func_with_variable_args\n    return func(input, **kwargs)  #
      type: ignore[call-arg]\n           ^^^^^^^^^^^^^^^^^^^^^\n\n\n  File \"/Users/isaachershenson/Documents/langgraph/libs/langgraph/langgraph/prebuilt/chat_agent_executor.py\",
      line 450, in call_model\n    response = model_runnable.invoke(state, config)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/base.py\",
      line 3011, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/prompts/base.py\",
      line 193, in invoke\n    return self._call_with_config(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/base.py\",
      line 1916, in _call_with_config\n    context.run(\n\n\n  File \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/config.py\",
      line 398, in call_func_with_variable_args\n    return func(input, **kwargs)  #
      type: ignore[call-arg]\n           ^^^^^^^^^^^^^^^^^^^^^\n\n\n  File \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/prompts/base.py\",
      line 167, in _format_prompt_with_error_handling\n    _inner_input = self._validate_input(inner_input)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/prompts/base.py\",
      line 163, in _validate_input\n    raise KeyError(msg)\n\n\nKeyError: \"Input
      to ChatPromptTemplate is missing variables {''{messages}''}.  Expected: [''{messages}'']
      Received: [''messages'', ''is_last_step'']\\nNote: if you intended {{messages}}
      to be part of the string and not a variable, please escape it with double curly
      braces like: ''{{{messages}}}''.\"","events":[{"name":"error","time":"2024-09-19T17:54:32.513932+00:00"}],"reference_example_id":null,"parent_run_id":"f0ff6d0e-d4f9-42b4-9c09-cc64fb92163d","tags":["graph:step:1"],"trace_id":"f0ff6d0e-d4f9-42b4-9c09-cc64fb92163d","dotted_order":"20240919T175432506029Zf0ff6d0e-d4f9-42b4-9c09-cc64fb92163d.20240919T175432507110Z1816cfd6-2dd5-42a3-a41c-e98b6dc4848a","outputs":{},"session_name":"default","name":"agent","inputs":{"messages":[{"content":"who
      is the winnner of the us open","additional_kwargs":{},"response_metadata":{},"type":"human","id":"25d43e6b-e401-4bc1-9ae9-eafda687c4ac","example":false}],"is_last_step":false},"run_type":"chain"},{"id":"bd837250-1e72-41df-b23b-322f9a4cb628","start_time":"2024-09-19T17:54:32.507291+00:00","end_time":"2024-09-19T17:54:32.513345+00:00","extra":{"metadata":{"langgraph_step":1,"langgraph_node":"agent","langgraph_triggers":["start:agent"],"langgraph_path":["__pregel_pull","agent"],"langgraph_checkpoint_ns":"agent:9711e288-c6f8-a748-00d0-0661ea2ad627","checkpoint_ns":"agent:9711e288-c6f8-a748-00d0-0661ea2ad627","revision_id":"checkpoint==1.0.10-68-g22fa527b-dirty"},"runtime":{"sdk":"langsmith-py","sdk_version":"0.1.123","library":"langsmith","platform":"macOS-14.5-arm64-arm-64bit","runtime":"python","py_implementation":"CPython","runtime_version":"3.12.4","langchain_version":"0.3.0","langchain_core_version":"0.3.1"}},"error":"KeyError(\"Input
      to ChatPromptTemplate is missing variables {''{messages}''}.  Expected: [''{messages}'']
      Received: [''messages'', ''is_last_step'']\\nNote: if you intended {{messages}}
      to be part of the string and not a variable, please escape it with double curly
      braces like: ''{{{messages}}}''.\")Traceback (most recent call last):\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/base.py\",
      line 1916, in _call_with_config\n    context.run(\n\n\n  File \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/config.py\",
      line 398, in call_func_with_variable_args\n    return func(input, **kwargs)  #
      type: ignore[call-arg]\n           ^^^^^^^^^^^^^^^^^^^^^\n\n\n  File \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/base.py\",
      line 4536, in _invoke\n    output = call_func_with_variable_args(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/config.py\",
      line 398, in call_func_with_variable_args\n    return func(input, **kwargs)  #
      type: ignore[call-arg]\n           ^^^^^^^^^^^^^^^^^^^^^\n\n\n  File \"/Users/isaachershenson/Documents/langgraph/libs/langgraph/langgraph/prebuilt/chat_agent_executor.py\",
      line 450, in call_model\n    response = model_runnable.invoke(state, config)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/base.py\",
      line 3011, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/prompts/base.py\",
      line 193, in invoke\n    return self._call_with_config(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/base.py\",
      line 1916, in _call_with_config\n    context.run(\n\n\n  File \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/config.py\",
      line 398, in call_func_with_variable_args\n    return func(input, **kwargs)  #
      type: ignore[call-arg]\n           ^^^^^^^^^^^^^^^^^^^^^\n\n\n  File \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/prompts/base.py\",
      line 167, in _format_prompt_with_error_handling\n    _inner_input = self._validate_input(inner_input)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/prompts/base.py\",
      line 163, in _validate_input\n    raise KeyError(msg)\n\n\nKeyError: \"Input
      to ChatPromptTemplate is missing variables {''{messages}''}.  Expected: [''{messages}'']
      Received: [''messages'', ''is_last_step'']\\nNote: if you intended {{messages}}
      to be part of the string and not a variable, please escape it with double curly
      braces like: ''{{{messages}}}''.\"","events":[{"name":"error","time":"2024-09-19T17:54:32.513345+00:00"}],"reference_example_id":null,"parent_run_id":"1816cfd6-2dd5-42a3-a41c-e98b6dc4848a","tags":["seq:step:1"],"trace_id":"f0ff6d0e-d4f9-42b4-9c09-cc64fb92163d","dotted_order":"20240919T175432506029Zf0ff6d0e-d4f9-42b4-9c09-cc64fb92163d.20240919T175432507110Z1816cfd6-2dd5-42a3-a41c-e98b6dc4848a.20240919T175432507291Zbd837250-1e72-41df-b23b-322f9a4cb628","outputs":{},"session_name":"default","name":"call_model","inputs":{"messages":[{"content":"who
      is the winnner of the us open","additional_kwargs":{},"response_metadata":{},"type":"human","id":"25d43e6b-e401-4bc1-9ae9-eafda687c4ac","example":false}],"is_last_step":false},"run_type":"chain"},{"id":"91813e99-ffa8-4227-8212-41a32081042e","start_time":"2024-09-19T17:54:32.510281+00:00","end_time":"2024-09-19T17:54:32.512548+00:00","extra":{"metadata":{"langgraph_step":1,"langgraph_node":"agent","langgraph_triggers":["start:agent"],"langgraph_path":["__pregel_pull","agent"],"langgraph_checkpoint_ns":"agent:9711e288-c6f8-a748-00d0-0661ea2ad627","checkpoint_ns":"agent:9711e288-c6f8-a748-00d0-0661ea2ad627","revision_id":"checkpoint==1.0.10-68-g22fa527b-dirty"},"runtime":{"sdk":"langsmith-py","sdk_version":"0.1.123","library":"langsmith","platform":"macOS-14.5-arm64-arm-64bit","runtime":"python","py_implementation":"CPython","runtime_version":"3.12.4","langchain_version":"0.3.0","langchain_core_version":"0.3.1"}},"error":"KeyError(\"Input
      to ChatPromptTemplate is missing variables {''{messages}''}.  Expected: [''{messages}'']
      Received: [''messages'', ''is_last_step'']\\nNote: if you intended {{messages}}
      to be part of the string and not a variable, please escape it with double curly
      braces like: ''{{{messages}}}''.\")Traceback (most recent call last):\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/base.py\",
      line 3011, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/prompts/base.py\",
      line 193, in invoke\n    return self._call_with_config(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/base.py\",
      line 1916, in _call_with_config\n    context.run(\n\n\n  File \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/config.py\",
      line 398, in call_func_with_variable_args\n    return func(input, **kwargs)  #
      type: ignore[call-arg]\n           ^^^^^^^^^^^^^^^^^^^^^\n\n\n  File \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/prompts/base.py\",
      line 167, in _format_prompt_with_error_handling\n    _inner_input = self._validate_input(inner_input)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/prompts/base.py\",
      line 163, in _validate_input\n    raise KeyError(msg)\n\n\nKeyError: \"Input
      to ChatPromptTemplate is missing variables {''{messages}''}.  Expected: [''{messages}'']
      Received: [''messages'', ''is_last_step'']\\nNote: if you intended {{messages}}
      to be part of the string and not a variable, please escape it with double curly
      braces like: ''{{{messages}}}''.\"","events":[{"name":"error","time":"2024-09-19T17:54:32.512548+00:00"}],"reference_example_id":null,"parent_run_id":"bd837250-1e72-41df-b23b-322f9a4cb628","tags":[],"trace_id":"f0ff6d0e-d4f9-42b4-9c09-cc64fb92163d","dotted_order":"20240919T175432506029Zf0ff6d0e-d4f9-42b4-9c09-cc64fb92163d.20240919T175432507110Z1816cfd6-2dd5-42a3-a41c-e98b6dc4848a.20240919T175432507291Zbd837250-1e72-41df-b23b-322f9a4cb628.20240919T175432510281Z91813e99-ffa8-4227-8212-41a32081042e","outputs":{},"session_name":"default","name":"RunnableSequence","inputs":{"messages":[{"content":"who
      is the winnner of the us open","additional_kwargs":{},"response_metadata":{},"type":"human","id":"25d43e6b-e401-4bc1-9ae9-eafda687c4ac","example":false}],"is_last_step":false},"run_type":"chain"},{"id":"44e95974-0e36-4233-b146-b13a03f29af1","start_time":"2024-09-19T17:54:32.510620+00:00","end_time":"2024-09-19T17:54:32.512305+00:00","extra":{"metadata":{"langgraph_step":1,"langgraph_node":"agent","langgraph_triggers":["start:agent"],"langgraph_path":["__pregel_pull","agent"],"langgraph_checkpoint_ns":"agent:9711e288-c6f8-a748-00d0-0661ea2ad627","checkpoint_ns":"agent:9711e288-c6f8-a748-00d0-0661ea2ad627","lc_hub_owner":"wfh","lc_hub_repo":"react-agent-executor","lc_hub_commit_hash":"bccfbbc5de8559d19d44c8ea2229bb6d06c99e402ea29b8694b294a31730a7a5","revision_id":"checkpoint==1.0.10-68-g22fa527b-dirty"},"runtime":{"sdk":"langsmith-py","sdk_version":"0.1.123","library":"langsmith","platform":"macOS-14.5-arm64-arm-64bit","runtime":"python","py_implementation":"CPython","runtime_version":"3.12.4","langchain_version":"0.3.0","langchain_core_version":"0.3.1"}},"error":"KeyError(\"Input
      to ChatPromptTemplate is missing variables {''{messages}''}.  Expected: [''{messages}'']
      Received: [''messages'', ''is_last_step'']\\nNote: if you intended {{messages}}
      to be part of the string and not a variable, please escape it with double curly
      braces like: ''{{{messages}}}''.\")Traceback (most recent call last):\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/base.py\",
      line 1916, in _call_with_config\n    context.run(\n\n\n  File \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/runnables/config.py\",
      line 398, in call_func_with_variable_args\n    return func(input, **kwargs)  #
      type: ignore[call-arg]\n           ^^^^^^^^^^^^^^^^^^^^^\n\n\n  File \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/prompts/base.py\",
      line 167, in _format_prompt_with_error_handling\n    _inner_input = self._validate_input(inner_input)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\n  File
      \"/Users/isaachershenson/poetry-cache/virtualenvs/langgraph-monorepo-DA-aqTTy-py3.12/lib/python3.12/site-packages/langchain_core/prompts/base.py\",
      line 163, in _validate_input\n    raise KeyError(msg)\n\n\nKeyError: \"Input
      to ChatPromptTemplate is missing variables {''{messages}''}.  Expected: [''{messages}'']
      Received: [''messages'', ''is_last_step'']\\nNote: if you intended {{messages}}
      to be part of the string and not a variable, please escape it with double curly
      braces like: ''{{{messages}}}''.\"","serialized":{"lc":1,"type":"constructor","id":["langchain","prompts","chat","ChatPromptTemplate"],"kwargs":{"input_variables":["{messages}"],"metadata":{"lc_hub_owner":"wfh","lc_hub_repo":"react-agent-executor","lc_hub_commit_hash":"bccfbbc5de8559d19d44c8ea2229bb6d06c99e402ea29b8694b294a31730a7a5"},"messages":[{"lc":1,"type":"constructor","id":["langchain","prompts","chat","SystemMessagePromptTemplate"],"kwargs":{"prompt":{"lc":1,"type":"constructor","id":["langchain","prompts","prompt","PromptTemplate"],"kwargs":{"input_variables":[],"template":"You
      are a helpful assistant.","template_format":"f-string"},"name":"PromptTemplate"}}},{"lc":1,"type":"constructor","id":["langchain","prompts","chat","MessagesPlaceholder"],"kwargs":{"variable_name":"{messages}"}}]},"name":"ChatPromptTemplate"},"events":[{"name":"start","time":"2024-09-19T17:54:32.510620+00:00"},{"name":"error","time":"2024-09-19T17:54:32.512305+00:00"}],"reference_example_id":null,"parent_run_id":"91813e99-ffa8-4227-8212-41a32081042e","tags":["seq:step:1"],"trace_id":"f0ff6d0e-d4f9-42b4-9c09-cc64fb92163d","dotted_order":"20240919T175432506029Zf0ff6d0e-d4f9-42b4-9c09-cc64fb92163d.20240919T175432507110Z1816cfd6-2dd5-42a3-a41c-e98b6dc4848a.20240919T175432507291Zbd837250-1e72-41df-b23b-322f9a4cb628.20240919T175432510281Z91813e99-ffa8-4227-8212-41a32081042e.20240919T175432510620Z44e95974-0e36-4233-b146-b13a03f29af1","outputs":null,"session_name":"default","name":"ChatPromptTemplate","inputs":{"messages":[{"content":"who
      is the winnner of the us open","additional_kwargs":{},"response_metadata":{},"type":"human","id":"25d43e6b-e401-4bc1-9ae9-eafda687c4ac","example":false}],"is_last_step":false},"run_type":"prompt"},{"id":"df188bef-76d7-4dea-a94c-e840948e3ca0","start_time":"2024-09-19T17:54:32.729005+00:00","end_time":null,"extra":{"runtime":{"sdk":"langsmith-py","sdk_version":"0.1.123","library":"langchain-core","platform":"macOS-14.5-arm64-arm-64bit","runtime":"python","py_implementation":"CPython","runtime_version":"3.12.4","langchain_version":"0.3.0","langchain_core_version":"0.3.1","library_version":"0.3.1"},"metadata":{"revision_id":"checkpoint==1.0.10-68-g22fa527b-dirty"}},"error":null,"events":[{"name":"start","time":"2024-09-19T17:54:32.729005+00:00"}],"reference_example_id":null,"parent_run_id":null,"tags":[],"trace_id":"df188bef-76d7-4dea-a94c-e840948e3ca0","dotted_order":"20240919T175432729005Zdf188bef-76d7-4dea-a94c-e840948e3ca0","outputs":null,"session_name":"default","name":"RunnableSequence","inputs":{"messages":[["user","what
      is the hometown of the current Australia open winner?"]]},"run_type":"chain"},{"id":"ba756f93-95b9-43a7-8c5f-cc624706a497","start_time":"2024-09-19T17:54:32.729428+00:00","end_time":"2024-09-19T17:54:32.729709+00:00","extra":{"metadata":{"revision_id":"checkpoint==1.0.10-68-g22fa527b-dirty"},"runtime":{"sdk":"langsmith-py","sdk_version":"0.1.123","library":"langsmith","platform":"macOS-14.5-arm64-arm-64bit","runtime":"python","py_implementation":"CPython","runtime_version":"3.12.4","langchain_version":"0.3.0","langchain_core_version":"0.3.1"}},"error":null,"serialized":{"lc":1,"type":"constructor","id":["langchain","prompts","chat","ChatPromptTemplate"],"kwargs":{"input_variables":[],"optional_variables":["messages"],"partial_variables":{"messages":[]},"messages":[{"lc":1,"type":"constructor","id":["langchain","prompts","chat","SystemMessagePromptTemplate"],"kwargs":{"prompt":{"lc":1,"type":"constructor","id":["langchain","prompts","prompt","PromptTemplate"],"kwargs":{"input_variables":[],"template":"For
      the given objective, come up with a simple step by step plan.     This plan
      should involve individual tasks, that if executed correctly will yield the correct
      answer. Do not add any superfluous steps.     The result of the final step should
      be the final answer. Make sure that each step has all the information needed
      - do not skip steps.","template_format":"f-string"},"name":"PromptTemplate"}}},{"lc":1,"type":"constructor","id":["langchain","prompts","chat","MessagesPlaceholder"],"kwargs":{"variable_name":"messages","optional":true}}]},"name":"ChatPromptTemplate"},"events":[{"name":"start","time":"2024-09-19T17:54:32.729428+00:00"},{"name":"end","time":"2024-09-19T17:54:32.729709+00:00"}],"reference_example_id":null,"parent_run_id":"df188bef-76d7-4dea-a94c-e840948e3ca0","tags":["seq:step:1"],"trace_id":"df188bef-76d7-4dea-a94c-e840948e3ca0","dotted_order":"20240919T175432729005Zdf188bef-76d7-4dea-a94c-e840948e3ca0.20240919T175432729428Zba756f93-95b9-43a7-8c5f-cc624706a497","outputs":{"output":{"messages":[{"content":"For
      the given objective, come up with a simple step by step plan.     This plan
      should involve individual tasks, that if executed correctly will yield the correct
      answer. Do not add any superfluous steps.     The result of the final step should
      be the final answer. Make sure that each step has all the information needed
      - do not skip steps.","additional_kwargs":{},"response_metadata":{},"type":"system"},{"content":"what
      is the hometown of the current Australia open winner?","additional_kwargs":{},"response_metadata":{},"type":"human"}]}},"session_name":"default","name":"ChatPromptTemplate","inputs":{"messages":[["user","what
      is the hometown of the current Australia open winner?"]]},"run_type":"prompt"},{"id":"7ddc40f0-53fd-4cdc-ab60-6ec12bf49278","start_time":"2024-09-19T17:54:32.729976+00:00","end_time":null,"extra":{"invocation_params":{"model":"gpt-4o","model_name":"gpt-4o","stream":false,"n":1,"temperature":0.0,"_type":"openai-chat","stop":null,"tools":[{"type":"function","function":{"name":"Plan","description":"Plan
      to follow in future","parameters":{"properties":{"steps":{"description":"different
      steps to follow, should be in sorted order","items":{"type":"string"},"type":"array"}},"required":["steps"],"type":"object"}}}],"parallel_tool_calls":false,"tool_choice":{"type":"function","function":{"name":"Plan"}}},"options":{"stop":null},"batch_size":1,"metadata":{"ls_provider":"openai","ls_model_name":"gpt-4o","ls_model_type":"chat","ls_temperature":0.0,"revision_id":"checkpoint==1.0.10-68-g22fa527b-dirty"},"runtime":{"sdk":"langsmith-py","sdk_version":"0.1.123","library":"langchain-core","platform":"macOS-14.5-arm64-arm-64bit","runtime":"python","py_implementation":"CPython","runtime_version":"3.12.4","langchain_version":"0.3.0","langchain_core_version":"0.3.1","library_version":"0.3.1"}},"error":null,"serialized":{"lc":1,"type":"constructor","id":["langchain","chat_models","openai","ChatOpenAI"],"kwargs":{"model_name":"gpt-4o","temperature":0.0,"openai_api_key":{"lc":1,"type":"secret","id":["OPENAI_API_KEY"]},"max_retries":2,"n":1},"name":"ChatOpenAI"},"events":[{"name":"start","time":"2024-09-19T17:54:32.729976+00:00"}],"reference_example_id":null,"parent_run_id":"df188bef-76d7-4dea-a94c-e840948e3ca0","tags":["seq:step:2"],"trace_id":"df188bef-76d7-4dea-a94c-e840948e3ca0","dotted_order":"20240919T175432729005Zdf188bef-76d7-4dea-a94c-e840948e3ca0.20240919T175432729976Z7ddc40f0-53fd-4cdc-ab60-6ec12bf49278","outputs":null,"session_name":"default","name":"ChatOpenAI","inputs":{"messages":[[{"lc":1,"type":"constructor","id":["langchain","schema","messages","SystemMessage"],"kwargs":{"content":"For
      the given objective, come up with a simple step by step plan.     This plan
      should involve individual tasks, that if executed correctly will yield the correct
      answer. Do not add any superfluous steps.     The result of the final step should
      be the final answer. Make sure that each step has all the information needed
      - do not skip steps.","type":"system"}},{"lc":1,"type":"constructor","id":["langchain","schema","messages","HumanMessage"],"kwargs":{"content":"what
      is the hometown of the current Australia open winner?","type":"human"}}]]},"run_type":"llm"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '31297'
      Content-Type:
      - application/json
      User-Agent:
      - langsmith-py/0.1.123
    method: POST
    uri: https://api.smith.langchain.com/runs/batch
  response:
    body:
      string: '{"message":"Runs batch ingested"}'
    headers:
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - '*'
      Access-Control-Allow-Methods:
      - '*'
      Access-Control-Allow-Origin:
      - ''
      Access-Control-Expose-Headers:
      - '*'
      Access-Control-Max-Age:
      - '600'
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Length:
      - '33'
      Via:
      - 1.1 google
      content-type:
      - application/json
      date:
      - Thu, 19 Sep 2024 17:54:32 GMT
      server:
      - uvicorn
    status:
      code: 202
      message: Accepted
- request:
    body: '{"messages": [{"content": "For the given objective, come up with a simple
      step by step plan.     This plan should involve individual tasks, that if executed
      correctly will yield the correct answer. Do not add any superfluous steps.     The
      result of the final step should be the final answer. Make sure that each step
      has all the information needed - do not skip steps.", "role": "system"}, {"content":
      "what is the hometown of the current Australia open winner?", "role": "user"}],
      "model": "gpt-4o", "n": 1, "parallel_tool_calls": false, "stream": false, "temperature":
      0.0, "tool_choice": {"type": "function", "function": {"name": "Plan"}}, "tools":
      [{"type": "function", "function": {"name": "Plan", "description": "Plan to follow
      in future", "parameters": {"properties": {"steps": {"description": "different
      steps to follow, should be in sorted order", "items": {"type": "string"}, "type":
      "array"}}, "required": ["steps"], "type": "object"}}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '950'
      content-type:
      - application/json
      host:
      - api.openai.com
      user-agent:
      - OpenAI/Python 1.46.0
      x-stainless-arch:
      - arm64
      x-stainless-async:
      - 'false'
      x-stainless-lang:
      - python
      x-stainless-os:
      - MacOS
      x-stainless-package-version:
      - 1.46.0
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.12.4
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3RSS2+jMBC+51dYc04iQknScmuqbZXurtrDSn1RIQcGcNfYlj2oTaP89wpIgEa7
        PljWfP4eHs9uxBiIFEIGScEpKY2cXF5c468f98Xq5vPtef5nffHkPX7+XK0rf371BOOaoTdvmNCR
        NU10aSSS0KqFE4ucsFadLf3FcnEeLM8aoNQpypqWG5oEeuJ7fjDx5pPZ2YFYaJGgg5C9jBhjbNfs
        dUSV4geEzBsfKyU6x3OEsLvEGFgt6wpw54QjrgjGPZhoRajq1KqScgCQ1jJOuJS9cbt2g3PfJy5l
        HNx+PNxcPZ//9pKVesgX+vPO3M4eZwO/VnprmkBZpZKuPwO8q4cnZoyB4mXDvZf8lMcYcJtXJSqq
        M8MuAkdoXAThSwTrFBWJbMuoQJZU1qIi9i6UQst01lQvK0eWS8HZnUE1jWAcwbVQaQMWukTS7+p4
        WbR6AtODyjSC1z18S7Qf/ev8OuiyxaxyXB7af6jvu/+UOjdWb9zJ90AmlHBFbJG7pk3gSJvWu/Zp
        HKD6NgpgrC4NxaT/oqoFZ0HQ6kE/qT3q+weQNHE5YC0W/2PFKRIXzbx0I9omFCrvFbwuZvNOcFtH
        WMaZUDlaY0UzjJCZeO7zZRZ4G28Do/3oCwAA//8DALsoyW+VAwAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8c5b710c297fcfed-SJC
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Thu, 19 Sep 2024 17:54:33 GMT
      Server:
      - cloudflare
      Set-Cookie:
      - __cf_bm=e3DrJ1CZXi611Suar9YE8wZKWRLlntscbqJ9bmbyVTM-1726768473-1.0.1.1-WvH7uUFGQ5O4iq38OQAfvXGzrWSnscfrb6NEciSyq4Ow599c1GZLhQWUPlnnLpjUN4q5FuGsNEEQ0nv4c5gw0Q;
        path=/; expires=Thu, 19-Sep-24 18:24:33 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=GWdrddqQchRX51VTnKvIEm.7LXTcsk2bO4_4aaTQUcI-1726768473425-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      openai-organization:
      - langchain
      openai-processing-ms:
      - '340'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=15552000; includeSubDomains; preload
      x-ratelimit-limit-requests:
      - '10000'
      x-ratelimit-limit-tokens:
      - '30000000'
      x-ratelimit-remaining-requests:
      - '9999'
      x-ratelimit-remaining-tokens:
      - '29999881'
      x-ratelimit-reset-requests:
      - 6ms
      x-ratelimit-reset-tokens:
      - 0s
      x-request-id:
      - req_9429e7a8fc601ca7c0ba46080af07b1f
    status:
      code: 200
      message: OK
version: 1
